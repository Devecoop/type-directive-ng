<!DOCTYPE html>
<html>
  <head>
    <title>type-directive-ng | AngularJS directive to explore your device structures, on web and mobile</title>
    <link rel="stylesheet" href="public/styles/style.css">
    <link rel="stylesheet" href="public/icons/css/slate.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Italiana" type='text/css'>
    <link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="bower_components/animate.css/animate.css" />
    <link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.css" />
    <link rel="stylesheet" href="bower_components/type-directive-ng/dist/type-directive-ng.css">
    <link rel="stylesheet" href="public/views/templates/switch/switch.css" />
    <link rel="stylesheet" href="public/views/templates/black/black.css" />
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
  </head>

  <body ng-app="app">

    <section id="top">
    <div id="menu">
      <a id="toggle" href="#">
        <i class="icon-menu"></i>
      </a>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#getting-started">Getting Started</a></li>
        <li><a href="#howto">How To</a></li>
        <li><a href="#edit">Edit mode</a></li>
        <li><a href="#configurations">Configurations</a></li>
        <li><a href="#custom-css">Custom CSS</a></li>
        <li><a href="#events">Events</a></li>
        <li><a href="#links">Links</a></li>
        <li><a href="#thanks">Thanks</a></li>
      </ul>
    </div>

    <div id="heading">
      <div id="logo">&lt;lelylan-type&gt;</div>
      <div id="tagline">
      The new HTML5 tag built atop <a href="https://angularjs.org/">AngularJS</a>
      and <a href="http://lelylan.com">Lelylan</a><br>
      that makes it easier to explore and create the structure<br>
      of the devices that will compose the Connected Home.
      </div>
      <div class="type center">
        <lelylan-type type-id="2"></lelylan-type>
      <div>
    </div>
    </section>

    <section>
    <div class="content">

      <h1 id="introduction">Introduction</h1>


      <h2>What</h2>

      <p>
        With the type directive you can easily create and explore the structure of any device
        like lights, thermostats, locks and more in a simple and accessible way.
      </p>


      <h2>Why</h2>

      <p>
        We need a clear way to define how devices work in order to explore the real potential of
        the Connected Home. Right now we have dozens of standards: Wifi, Zigbee, Ethernet, Konnex,
        X10 to name some. All those differences does not make it easier for devices to communicate.
      </p>


      <h2>How</h2>

      <p>
        The proposed solution is the definition of a device type, which defines a device structure in a unique
        way through the combination of three key elements.
      </p>

      <ul>
      <li>Properties - what varies during time in a device.</li>
      <li>Functions - what a device can do.</li>
      <li>Statuses - what a device is in a specific moment.</li>
      </ul>


      <h2>Where</h2>

      <p>
        Right now the type directive is used from lelylan in the <a html="">dashboard</a> to easily
        start to control and monitor any device in your house. We'll release soon a dedicated dashboard
        completely dedicated to the definition and discussion of device types.
      </p>

      <h2>Call for action</h2>

      <p>
      If you like this project and you want to share your ideas on what we are doing,
      let the <a href="http://twitter.com/lelylan">@lelylan</a> team know.
      </p>

    </div>
    </section>


    <section>
    <div class="content">
      <h1 id="getting-started">Getting Started</h1>

      <h2>Installation</h2>

      <p>
      Install the type directive using <a href="http://bower.io/" target="_blank">Bower</a>.
      </p>

      <pre><code>$ bower install type-directive-ng --save</code></pre>

      <h2>Basic Example</h2>

      <p>
      Use the <code>&lt;lelylan-type&gt;</code> directive and set the desired type ID.
      </p>

      <pre><code><xmp><lelylan-type type-id="TYPE_ID"></lelylan-type></xmp></code></pre>

    </div>
    </section>


    <section>
    <div class="content">


      <h1 id="howto">Create your first app</h1>
      <p>
      In this section you will learn how to use the type directive to explore the
      most popular types defined in Lelylan.
      </p>


      <h2 id="setup">Setup</h2>

      <p>
      To build our app we'll use <a href="http://yeoman.io" target="blank">Yeoman</a>, a collection of tools
      and frameworks helping developers to quickly build web applications.
      </p>

      <ul>
        <li>
        <strong>yo</strong> - perform ripetitive tasks.
        </li>
        <li>
        <strong>grunt</strong> - build, preview and test your project.
        </li>
        <li>
        <strong>bower</strong> - solve the frontend package management.
        </li>
      </ul>


      <h2>Installation</h2>

      <p>
      With a recent version of Node.js installed, install the <code>yo</code> package.
      In this way you have Yo, Grunt and Bower and can run them directly from the command-line.
      </p>

      <pre><code>$ npm install -g yo</code></pre>

      <p>
      With Yeoman you can install additional generators with npm. For this tutorial you need
      to install the AngularJS generator.
      </p>

      <pre><code>$ npm install -g generator-angular</code></pre>


      <h2>Create your AngularJS app</h2>

      <p>
      To begin, go to the terminal, make a new directory and cd into it.
      </p>

      <pre><code>$ mkdir new-project && cd $_</code></pre>

      <p>
      You can now kick-start your AngularJS app.
      </p>

      <pre><code>$ yo angular</code></pre>

      <p>
      It will also ask you if you would like to include Twitter Bootstrap and other stuff.
      Once you've decided, just hit Enter. It will take a while to complete.
      </p>

      <p>
      To preview what the app looks like run the serve command.
      </p>

      <pre><code>$ grunt serve</code></pre>

      <p>
      The server supports LiveReload, meaning you can fire up a text editor, edit a custom
      element and the browser will reload on save.
      </p>


      <h2>Install the type directive</h2>

      <p>
      Install the type directive using <a href="http://bower.io/">Bower</a>.
      </p>

      <pre><code>$ bower install type-directive-ng --save</code></pre>

      <p>
      Now you have <code>&lt;lelylan-type&gt;</code> directive and all its dependencies ready to be
      used. Restart the server to automatically add the needed javascript files to your index
      page.
      </p>

      <pre><code>$ grunt serve</code></pre>

      <p>
      The setup is now completed.
      </p>


      <h2>Add the type directive</h2>

      <p>
      Inject the device directive into your AngularJS application.
      </p>

      <pre><code><xmp>// app/scripts/app.js
angular.module('app', ['lelylan.directives.type', ... ])</xmp></code></pre>


      <h2>Get Lelylan popular types</h2>

      <p>
      To get the popular types used in Lelylan use the
      <a href="http://lelylan.github.io/lelylan-ng/" target="_blank">Lelylan client</a>
      for AngularJS (already installed as dependency). Open the main controller
      and use the <code>Type#popular</code> method.
      </p>

      <pre><code><xmp>angular.module('newProjectApp')
  .controller('MainCtrl', function ($scope, Type) {
    Type.popular()
      .success(function(data) { $scope.types = data })
  });</xmp></code></pre>


      <h2>Show types</h2>

      <p>
      Now open the <code>main.html</code> and use the type directive.
      </p>

      <pre><code><xmp ng-init="string='{{type.id}}'"><div ng-repeat="type in types">
  <lelylan-type type-id="{{string}}"></lelylan-type>
<div></xmp></code></pre>

      <p>
      Here is what happens. You iterate between all popular types and show them using the type
      directive. To let the directive know which type it has to render use the attribute
      <code>type-id</code>, which accepts the type identifier.
      </p>

      <p class="notice">
        See the <a href="#configurations">configurations</a> section to see the
        accepted attributes.
      </p>


      <h2>You're done!</h2>

      <p>
      Open your index page and explore Lelylan popular types.
      </p>

      <div class="type"><lelylan-type type-id="2"></lelylan-type></div>

    </div>
    </section>


    <section>
    <div class="content">

      <h1 id="edit">Edit mode</h1>

      <p>
      When the user who created the directive is logged in, the directive goes in edit mode.
      Just play with the directive below to update the type name, add properties, remove functions
      change category and more.
      </p>

      <div class="type"><lelylan-type type-id="1"></lelylan-type></div>

      <h2 id="server">Authorization</h2>

      <p>
      Lelylan uses an OAuth 2.0 server for authentication and authorization. To get started
      <a href="http://people.lelylan.com/oauth/applications/new">register</a> a new application
      and take the generated credentials (Client ID and Redirect URI) before moving to the
      next step.
      </p>

      <img src="public/images/application.png" class="full-image"></img>


      <h2>Add the oauth-ng directive</h2>

      <p>
      To get an authorization token you need to use
      <a href="http://andreareginato.github.io/oauth-ng/" target="blank">oauth-ng</a>,
      an AngularJS directive for OAuth 2.0 (already installed as dependency).
      Open your main.html view and configure the oauth directive by setting the
      <code>client-id</code> and <code>redirect-uri</code> previously defined.
      </p>

      <pre><code><xmp><oauth
  site="http://people.lelylan.com"
  client-id="CLIENT_ID"
  redirect-uri="REDIRECT_URI"
  profile-uri="http://api.lelylan.com/me"
  scope="devices">
</oauth></xmp></code></pre>

      <p class="notice">
      Check out the <a href="http://andreareginato.github.io/oauth-ng/" target="blank">oauth-ng</a>
      docs if you want to better understand how it works.
      </p>


      <h2>Get your types</h2>

      <p>
      To get your types open the main controller and use the <code>Type#all</code> method.
      </p>

      <pre><code><xmp>angular.module('newProjectApp')
  .controller('MainCtrl', function ($scope, Type) {
    Type.all()
      .success(function(data) { $scope.types = data })
      .error(function(data)   { $scope.error = 'Unauthorized request. Login first.' })
  });</xmp></code></pre>


      <h2>Show types</h2>

      <p>
      Now open the <code>main.html</code> and set the type directive.
      </p>

      <pre><code><xmp ng-init="string='{{type.id}}'"><p ng-bind="error"></p>
<div ng-repeat="type in types">
  <lelylan-type type-id="{{string}}"></lelylan-type>
<div></xmp></code></pre>

      <h2>You're done!</h2>

      <p>
      Explore and edir your device types.
      </p>




    </div>
    </section>


    <section>
    <div class="content">
      <h1 id="configurations">Configurations</h1>

      <p>
      The directive accepts the following attributes.
      </p>

      <table class="table">
        <tbody class="smaller-titles">
          <tr>
            <td class="parameter">
              <span>type-id</span>
              <span class="info">required</span>
            </td>
            <td>
              Type ID.
            </td>
          </tr>
          <tr>
            <td class="parameter">
              <span>device-template</span>
              <span class="info">optional</span>
            </td>
            <td>
              Custom template to render.
              Learn more <a href="#custom-templates">about</a>.
            </td>
          </tr>
        </tbody>
      </table>

      <h2>Examples</h2>

      <pre><code><xmp>// Load the device by setting its id
<lelylan-type type-id="TYPE_ID"></lelylan-type>

// Load the device by setting its json structure and a specific template
<lelylan-type type-id="TYPE_ID" type-template="TEMPLATE_URI"></lelylan-type></xmp></code></pre>

    </div>
    </section>


    <section>
    <div class="content">

      <h1 id="custom-css">Custom CSS</h1>

      <p>
      The type directive comes to life with customization in mind. This means that you can
      easily define your personalized CSS styles and create your own theme.
      </p>

      <h3>
        Default Style
      </h3>

      <div class="type"><lelylan-type type-id="2"></lelylan-type></div>

      <h3>
        Black Style |
        <a href="https://gist.github.com/andreareginato/4b7f06cab66704061dda">
        <i class="fa fa-cloud-download fa-2x"></i>Download CSS
        </a>
      </h3>

      <div class="type ly-black"><lelylan-type type-id="2"></lelylan-type></div>

      <p class="notice">
      <a href="mailto:dev@lelylan.com">Mail</a>
      or <a href="http://twitter.com/lelylan">Tweet</a>
      us about new CSS customizations.</p>
      </p>

      <h2>Defining a new style</h2>

      <p>
      Customizing the device directive is easy. Simply study the CSS classes defining the
      <a href="https://github.com/lelylan/type-directive-ng/blob/master/app/views/templates/default.html">default template</a>
      and override the existing CSS rules with new ones.
      </p>

      <p class="notice">
        Right now the template is not as cleas as we would love. We really hope to find
        soon the needed time to give you a cleaner code.
      </p>

    </div>
    </section>


    <section>
    <div class="content">

      <h1 id="events">Events</h1>

      <h2>Type delete</h2>

      <p>
        <code>lelylan:type:deleted(type)</code><br>
      </p>

      <p>
      Listen for type deletion.<br>
      As param it sends the deleted JSON device representation.
      </p>

      <pre><code><xmp>$scope.$on('lelylan:type:delete', function(event, device) {
  console.log('Deleted', device.name)
});</xmp></code></pre>

    </div>
    </section>


    <section>
    <div class="content">
      <h1 id="links">Links</h1>

      <ul>
        <li>
        <a href="https://github.com/lelylan/type-directive-ng" target="blank">
          Github Repository
        </a>
        </li>
        <li>
        <a href="http://andreareginato.github.io/oauth-ng" target="blank">
          OAuth 2.0 Directive for AngularJS
        </a>
        </li>
        <li>
        <a href="http://lelylan.github.io/lelylan-ng" target="blank">
          Lelylan Client for AngularJS
        </a>
        </li>
        <li>
        <a href="http://dev.lelylan.com" target="blank">
          Lelylan Dev Center
        </a>
        </li>
      </ul>

    </div>
    </section>


    <section>
    <div class="content">

      <h1 id="thanks">Thanks</h1>

      <p>
      <a href="mailto:dev@lelylan.com" target="_blank">Mail</a> or
      <a href="http://twitter.com/lelylan" target="_blank">Tweet</a>
      us for any idea that can improve the project.
      </p>

    </div>
    </section>

    <!-- test dependencies -->
    <script src="bower_components/jasmine/lib/jasmine-core/jasmine.js"></script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/jasmine-jquery/lib/jasmine-jquery.js"></script>

    <!-- strict dependencies -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-touch/angular-touch.js"></script>
    <script src="bower_components/base64/base64.js"></script>
    <script src="bower_components/ngstorage/ngStorage.js"></script>
    <script src="bower_components/oauth-ng/dist/oauth-ng.js"></script>
    <script src="bower_components/lelylan-ng/dist/lelylan-ng.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/angular-moment/angular-moment.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/zeroclipboard/dist/ZeroClipboard.js"></script>
    <script src="bower_components/ng-clip/dest/ng-clip.min.js"></script>

    <!-- type directive -->
    <script src="bower_components/type-directive-ng/dist/type-directive-ng.js"></script>

    <!-- mock lib -->
    <script src="bower_components/angular-mocks/angular-mocks.js"></script>

    <!-- app test -->
    <script src="public/scripts/vendors/app-test.js"></script>

    <script>
      $('a').each(function() {
        var a = new RegExp('/' + window.location.host + '/');
        if(!a.test(this.href)) {
          $(this).click(function(event) {
            event.preventDefault();
            event.stopPropagation();
            window.open(this.href, '_blank');
          });
        }
      });
    </script>
  </body>
</html>
